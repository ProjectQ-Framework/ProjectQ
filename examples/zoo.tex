\documentclass{standalone}
\usepackage[margin=1in]{geometry}
\usepackage[hang,small,bf]{caption}
\usepackage{tikz}
\usepackage{braket}
\usetikzlibrary{backgrounds,shadows.blur,fit,decorations.pathreplacing,shapes}

\begin{document}
\begin{tikzpicture}[scale=0.8, transform shape]

\tikzstyle{basicshadow}=[blur shadow={shadow blur steps=8, shadow xshift=0.7pt, shadow yshift=-0.7pt, shadow scale=1.02}]\tikzstyle{basic}=[draw,fill=white,basicshadow]
\tikzstyle{operator}=[basic,minimum size=1.5em]
\tikzstyle{phase}=[fill=black,shape=circle,minimum size=0.1cm,inner sep=0pt,outer sep=0pt,draw=black]
\tikzstyle{none}=[inner sep=0pt,outer sep=-.5pt,minimum height=0.5cm+1pt]
\tikzstyle{measure}=[operator,inner sep=0pt,minimum height=0.5cm, minimum width=0.75cm]
\tikzstyle{xstyle}=[circle,basic,minimum height=0.35cm,minimum width=0.35cm,inner sep=-1pt,very thin]
\tikzset{
shadowed/.style={preaction={transform canvas={shift={(0.5pt,-0.5pt)}}, draw=gray, opacity=0.4}},
}
\tikzstyle{swapstyle}=[inner sep=-1pt, outer sep=-1pt, minimum width=0pt]
\tikzstyle{edgestyle}=[very thin]

\node[none] (line0_gate0) at (0.1,-0) {$\Ket{0}$};
\node[none] (line0_gate1) at (0.6000000000000001,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate2) at (0.8500000000000001,-0) {};
\node[none] (line0_gate3) at (1.1,-0) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate1) rectangle ([yshift=-0.25cm]line0_gate3) node[pos=.5] {Y};
\draw (line0_gate0) edge[edgestyle] (line0_gate1);
\node[none] (line0_gate4) at (1.5,-0) {};
\node[none,minimum height=0.8cm,outer sep=0] (line0_gate5) at (2.0,-0) {};
\node[none] (line0_gate6) at (2.5,-0) {};
\draw[operator,edgestyle,outer sep=1.0cm] ([yshift=0.4cm]line0_gate4) rectangle ([yshift=-0.4cm]line0_gate6) node[pos=.5] {Rx$_{0.5}$};
\draw (line0_gate3) edge[edgestyle] (line0_gate4);
\node[none] (line0_gate7) at (3.0,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate8) at (3.25,-0) {};
\node[none] (line0_gate9) at (3.5,-0) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate7) rectangle ([yshift=-0.25cm]line0_gate9) node[pos=.5] {T};
\draw (line0_gate6) edge[edgestyle] (line0_gate7);
\node[none] (line1_gate0) at (0.1,-1) {$\Ket{0}$};
\node[none] (line1_gate1) at (0.6000000000000001,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate2) at (0.8500000000000001,-1) {};
\node[none] (line1_gate3) at (1.1,-1) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line1_gate1) rectangle ([yshift=-0.25cm]line1_gate3) node[pos=.5] {Z};
\draw (line1_gate0) edge[edgestyle] (line1_gate1);
\node[none] (line1_gate4) at (1.5,-1) {};
\node[none,minimum height=0.8cm,outer sep=0] (line1_gate5) at (2.0,-1) {};
\node[none] (line1_gate6) at (2.5,-1) {};
\draw[operator,edgestyle,outer sep=1.0cm] ([yshift=0.4cm]line1_gate4) rectangle ([yshift=-0.4cm]line1_gate6) node[pos=.5] {Ph$_{0.5}$};
\draw (line1_gate3) edge[edgestyle] (line1_gate4);
\node[none] (line2_gate0) at (0.1,-2) {$\Ket{0}$};
\node[none] (line2_gate1) at (0.6000000000000001,-2) {};
\node[none,minimum height=0.8cm,outer sep=0] (line2_gate2) at (1.1,-2) {};
\node[none] (line2_gate3) at (1.6,-2) {};
\draw[operator,edgestyle,outer sep=1.0cm] ([yshift=0.4cm]line2_gate1) rectangle ([yshift=-0.4cm]line2_gate3) node[pos=.5] {Ry$_{0.5}$};
\draw (line2_gate0) edge[edgestyle] (line2_gate1);
\node[none] (line2_gate4) at (2.1,-2) {};
\node[none,minimum height=0.8cm,outer sep=0] (line2_gate5) at (2.6,-2) {};
\node[none] (line2_gate6) at (3.1,-2) {};
\draw[operator,edgestyle,outer sep=1.0cm] ([yshift=0.4cm]line2_gate4) rectangle ([yshift=-0.4cm]line2_gate6) node[pos=.5] {Rz$_{0.5}$};
\draw (line2_gate3) edge[edgestyle] (line2_gate4);
\node[none] (line2_gate7) at (3.5,-2) {};
\node[none,minimum height=0.5cm,outer sep=0] (line2_gate8) at (3.75,-2) {};
\node[none] (line2_gate9) at (4.0,-2) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line2_gate7) rectangle ([yshift=-0.25cm]line2_gate9) node[pos=.5] {H};
\draw (line2_gate6) edge[edgestyle] (line2_gate7);
\node[xstyle] (line0_gate10) at (4.3999999999999995,-0) {};
\draw[edgestyle] (line0_gate10.north)--(line0_gate10.south);
\draw[edgestyle] (line0_gate10.west)--(line0_gate10.east);
\node[phase] (line1_gate7) at (4.3999999999999995,-1) {};
\draw (line1_gate7) edge[edgestyle] (line0_gate10);
\node[phase] (line2_gate10) at (4.3999999999999995,-2) {};
\draw (line2_gate10) edge[edgestyle] (line0_gate10);
\draw (line0_gate9) edge[edgestyle] (line0_gate10);
\draw (line1_gate6) edge[edgestyle] (line1_gate7);
\draw (line2_gate9) edge[edgestyle] (line2_gate10);
\node[none] (line3_gate0) at (0.1,-3) {$\Ket{0}$};
\node[xstyle] (line3_gate1) at (0.5,-3) {};
\draw[edgestyle] (line3_gate1.north)--(line3_gate1.south);
\draw[edgestyle] (line3_gate1.west)--(line3_gate1.east);
\draw (line3_gate0) edge[edgestyle] (line3_gate1);
\node[none] (line3_gate2) at (1.15,-3) {};
\node[none,minimum height=0.5cm,outer sep=0] (line3_gate3) at (1.4,-3) {};
\node[none] (line3_gate4) at (1.65,-3) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line3_gate2) rectangle ([yshift=-0.25cm]line3_gate4) node[pos=.5] {S};
\draw (line3_gate1) edge[edgestyle] (line3_gate2);
\node[none] (line0_gate11) at (5.049999999999999,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate12) at (5.299999999999999,-0) {};
\node[none] (line0_gate13) at (5.549999999999999,-0) {};
\node[none] (line1_gate8) at (5.049999999999999,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate9) at (5.299999999999999,-1) {};
\node[none] (line1_gate10) at (5.549999999999999,-1) {};
\node[none] (line2_gate11) at (5.049999999999999,-2) {};
\node[none,minimum height=0.5cm,outer sep=0] (line2_gate12) at (5.299999999999999,-2) {};
\node[none] (line2_gate13) at (5.549999999999999,-2) {};
\node[none] (line3_gate5) at (5.049999999999999,-3) {};
\node[none,minimum height=0.5cm,outer sep=0] (line3_gate6) at (5.299999999999999,-3) {};
\node[none] (line3_gate7) at (5.549999999999999,-3) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate11) rectangle ([yshift=-0.25cm]line3_gate7) node[pos=.5] {Barrier};
\draw (line1_gate7) edge[edgestyle] (line1_gate8);
\draw (line2_gate10) edge[edgestyle] (line2_gate11);
\draw (line0_gate10) edge[edgestyle] (line0_gate11);
\draw (line3_gate4) edge[edgestyle] (line3_gate5);
\node[swapstyle] (line1_gate11) at (5.849999999999999,-1) {};
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=-0.175cm]line1_gate11.center)--([xshift=0.175cm,yshift=0.175cm]line1_gate11.center);
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=0.175cm]line1_gate11.center)--([xshift=0.175cm,yshift=-0.175cm]line1_gate11.center);
\node[swapstyle] (line3_gate8) at (5.849999999999999,-3) {};
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=-0.175cm]line3_gate8.center)--([xshift=0.175cm,yshift=0.175cm]line3_gate8.center);
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=0.175cm]line3_gate8.center)--([xshift=0.175cm,yshift=-0.175cm]line3_gate8.center);
\draw (line1_gate11) edge[edgestyle] (line3_gate8);
\draw (line1_gate10) edge[edgestyle] (line1_gate11);
\draw (line3_gate7) edge[edgestyle] (line3_gate8);
\node[swapstyle] (line0_gate14) at (6.399999999999998,-0) {};
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=-0.175cm]line0_gate14.center)--([xshift=0.175cm,yshift=0.175cm]line0_gate14.center);
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=0.175cm]line0_gate14.center)--([xshift=0.175cm,yshift=-0.175cm]line0_gate14.center);
\node[swapstyle] (line3_gate9) at (6.399999999999998,-3) {};
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=-0.175cm]line3_gate9.center)--([xshift=0.175cm,yshift=0.175cm]line3_gate9.center);
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=0.175cm]line3_gate9.center)--([xshift=0.175cm,yshift=-0.175cm]line3_gate9.center);
\node[xstyle] (line0-3_gate14) at (6.399999999999998,-1.5)                {\scriptsize $\frac{1}{2}^{{\dagger}}$};
\draw (line0_gate14) edge[edgestyle] (line0-3_gate14);
\draw (line0-3_gate14) edge[edgestyle] (line3_gate9);
\draw (line0_gate13) edge[edgestyle] (line0_gate14);
\draw (line3_gate8) edge[edgestyle] (line3_gate9);
\node[none] (line0_gate15) at (6.949999999999997,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate16) at (7.299999999999996,-0) {};
\node[none] (line0_gate17) at (7.649999999999997,-0) {};
\draw[operator,edgestyle,outer sep=0.7cm] ([yshift=0.25cm]line0_gate15) rectangle ([yshift=-0.25cm]line0_gate17) node[pos=.5] {$\sqrt{X}$};
\draw (line0_gate14) edge[edgestyle] (line0_gate15);
\node[swapstyle] (line1_gate12) at (6.949999999999997,-1) {};
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=-0.175cm]line1_gate12.center)--([xshift=0.175cm,yshift=0.175cm]line1_gate12.center);
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=0.175cm]line1_gate12.center)--([xshift=0.175cm,yshift=-0.175cm]line1_gate12.center);
\node[swapstyle] (line2_gate14) at (6.949999999999997,-2) {};
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=-0.175cm]line2_gate14.center)--([xshift=0.175cm,yshift=0.175cm]line2_gate14.center);
\draw[swapstyle,edgestyle,shadowed] ([xshift=-0.175cm,yshift=0.175cm]line2_gate14.center)--([xshift=0.175cm,yshift=-0.175cm]line2_gate14.center);
\node[xstyle] (line1-2_gate12) at (6.949999999999997,-1.5)                {\scriptsize $\frac{1}{2}$};
\draw (line1_gate12) edge[edgestyle] (line1-2_gate12);
\draw (line1-2_gate12) edge[edgestyle] (line2_gate14);
\draw (line1_gate11) edge[edgestyle] (line1_gate12);
\draw (line2_gate13) edge[edgestyle] (line2_gate14);
\node[none] (line0_gate18) at (8.049999999999997,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate19) at (8.399999999999997,-0) {};
\node[none] (line0_gate20) at (8.749999999999996,-0) {};
\draw[operator,edgestyle,outer sep=0.7cm] ([yshift=0.25cm]line0_gate18) rectangle ([yshift=-0.25cm]line0_gate20) node[pos=.5] {$\sqrt{X}$${}^\dagger$};
\node[phase] (line1_gate13) at (8.399999999999997,-1) {};
\draw (line1_gate13) edge[edgestyle] (line0_gate19);
\draw (line0_gate17) edge[edgestyle] (line0_gate18);
\draw (line1_gate12) edge[edgestyle] (line1_gate13);
\node[none] (line3_gate10) at (9.249999999999996,-3) {};
\node[none,minimum height=0.8cm,outer sep=0] (line3_gate11) at (9.749999999999996,-3) {};
\node[none] (line3_gate12) at (10.249999999999996,-3) {};
\draw[operator,edgestyle,outer sep=1.0cm] ([yshift=0.4cm]line3_gate10) rectangle ([yshift=-0.4cm]line3_gate12) node[pos=.5] {Ry$_{0.5}$};
\node[phase] (line0_gate21) at (9.749999999999996,-0) {};
\draw (line0_gate21) edge[edgestyle] (line3_gate11);
\draw (line3_gate9) edge[edgestyle] (line3_gate10);
\draw (line0_gate20) edge[edgestyle] (line0_gate21);
\node[xstyle] (line2_gate15) at (10.649999999999997,-2) {};
\draw[edgestyle] (line2_gate15.north)--(line2_gate15.south);
\draw[edgestyle] (line2_gate15.west)--(line2_gate15.east);
\node[phase] (line0_gate22) at (10.649999999999997,-0) {};
\draw (line0_gate22) edge[edgestyle] (line2_gate15);
\draw (line2_gate14) edge[edgestyle] (line2_gate15);
\draw (line0_gate21) edge[edgestyle] (line0_gate22);
\node[none] (line0_gate23) at (11.299999999999995,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate24) at (12.199999999999996,-0) {};
\node[none] (line0_gate25) at (13.099999999999996,-0) {};
\node[none] (line1_gate14) at (11.299999999999995,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate15) at (12.199999999999996,-1) {};
\node[none] (line1_gate16) at (13.099999999999996,-1) {};
\node[none] (line2_gate16) at (11.299999999999995,-2) {};
\node[none,minimum height=0.5cm,outer sep=0] (line2_gate17) at (12.199999999999996,-2) {};
\node[none] (line2_gate18) at (13.099999999999996,-2) {};
\node[none] (line3_gate13) at (11.299999999999995,-3) {};
\node[none,minimum height=0.5cm,outer sep=0] (line3_gate14) at (12.199999999999996,-3) {};
\node[none] (line3_gate15) at (13.099999999999996,-3) {};
\draw[operator,edgestyle,outer sep=1.8cm] ([yshift=0.25cm]line0_gate23) rectangle ([yshift=-0.25cm]line3_gate15) node[pos=.5] {Entangle};
\draw (line1_gate13) edge[edgestyle] (line1_gate14);
\draw (line2_gate15) edge[edgestyle] (line2_gate16);
\draw (line0_gate22) edge[edgestyle] (line0_gate23);
\draw (line3_gate12) edge[edgestyle] (line3_gate13);
\node[none] (line0_gate26) at (13.499999999999995,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate27) at (13.749999999999995,-0) {};
\node[none] (line0_gate28) at (13.999999999999995,-0) {};
\node[none] (line1_gate17) at (13.499999999999995,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate18) at (13.749999999999995,-1) {};
\node[none] (line1_gate19) at (13.999999999999995,-1) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate26) rectangle ([yshift=-0.25cm]line1_gate19) node[pos=.5] {exp(-0.5j * (0.1 X0 Y1))};
\draw (line1_gate16) edge[edgestyle] (line1_gate17);
\draw (line0_gate25) edge[edgestyle] (line0_gate26);
\node[none] (line0_gate29) at (14.399999999999993,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate30) at (14.649999999999993,-0) {};
\node[none] (line0_gate31) at (14.899999999999993,-0) {};
\node[none] (line1_gate20) at (14.399999999999993,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate21) at (14.649999999999993,-1) {};
\node[none] (line1_gate22) at (14.899999999999993,-1) {};
\node[none] (line2_gate19) at (14.399999999999993,-2) {};
\node[none,minimum height=0.5cm,outer sep=0] (line2_gate20) at (14.649999999999993,-2) {};
\node[none] (line2_gate21) at (14.899999999999993,-2) {};
\node[none] (line3_gate16) at (14.399999999999993,-3) {};
\node[none,minimum height=0.5cm,outer sep=0] (line3_gate17) at (14.649999999999993,-3) {};
\node[none] (line3_gate18) at (14.899999999999993,-3) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate29) rectangle ([yshift=-0.25cm]line3_gate18) node[pos=.5] {QFT};
\draw (line1_gate19) edge[edgestyle] (line1_gate20);
\draw (line2_gate18) edge[edgestyle] (line2_gate19);
\draw (line0_gate28) edge[edgestyle] (line0_gate29);
\draw (line3_gate15) edge[edgestyle] (line3_gate16);
\node[none] (line0_gate32) at (15.199999999999992,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate33) at (15.449999999999992,-0) {};
\node[none] (line0_gate34) at (15.699999999999992,-0) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate32) rectangle ([yshift=-0.25cm]line0_gate34) node[pos=.5] {H};
\draw (line0_gate31) edge[edgestyle] (line0_gate32);
\node[none] (line3_gate19) at (15.199999999999992,-3) {};
\node[none,minimum height=0.5cm,outer sep=0] (line3_gate20) at (15.449999999999992,-3) {};
\node[none] (line3_gate21) at (15.699999999999992,-3) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line3_gate19) rectangle ([yshift=-0.25cm]line3_gate21) node[pos=.5] {H};
\draw (line3_gate18) edge[edgestyle] (line3_gate19);
\node[none] (line0_gate35) at (16.199999999999992,-0) {};
\node[none,minimum height=0.5cm,outer sep=0] (line0_gate36) at (16.449999999999992,-0) {};
\node[none] (line0_gate37) at (16.699999999999992,-0) {};
\node[none] (line1_gate23) at (16.199999999999992,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate24) at (16.449999999999992,-1) {};
\node[none] (line1_gate25) at (16.699999999999992,-1) {};
\draw (line1_gate22) edge[edgestyle] (line1_gate23);
\node[none] (line2_gate22) at (16.199999999999992,-2) {};
\node[none,minimum height=0.5cm,outer sep=0] (line2_gate23) at (16.449999999999992,-2) {};
\node[none] (line2_gate24) at (16.699999999999992,-2) {};
\draw (line2_gate21) edge[edgestyle] (line2_gate22);
\node[none] (line3_gate22) at (16.199999999999992,-3) {};
\node[none,minimum height=0.5cm,outer sep=0] (line3_gate23) at (16.449999999999992,-3) {};
\node[none] (line3_gate24) at (16.699999999999992,-3) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line0_gate35) rectangle ([yshift=-0.25cm]line3_gate24) node[pos=.5] {MATH};
\draw (line0_gate34) edge[edgestyle] (line0_gate35);
\draw (line3_gate21) edge[edgestyle] (line3_gate22);
\node[measure,edgestyle] (line0_gate38) at (17.09999999999999,-0) {};
\draw[edgestyle] ([yshift=-0.18cm,xshift=0.07500000000000001cm]line0_gate38.west) to [out=60,in=180] ([yshift=0.035cm]line0_gate38.center) to [out=0, in=120] ([yshift=-0.18cm,xshift=-0.07500000000000001cm]line0_gate38.east);
\draw[edgestyle] ([yshift=-0.18cm]line0_gate38.center) to ([yshift=-0.07500000000000001cm,xshift=-0.18cm]line0_gate38.north east);
\draw (line0_gate37) edge[edgestyle] (line0_gate38);
\node[none] (line1_gate26) at (16.999999999999993,-1) {};
\node[none,minimum height=0.5cm,outer sep=0] (line1_gate27) at (17.249999999999993,-1) {};
\node[none] (line1_gate28) at (17.499999999999993,-1) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line1_gate26) rectangle ([yshift=-0.25cm]line1_gate28) node[pos=.5] {H};
\draw (line1_gate25) edge[edgestyle] (line1_gate26);
\node[measure,edgestyle] (line1_gate29) at (17.999999999999993,-1) {};
\draw[edgestyle] ([yshift=-0.18cm,xshift=0.07500000000000001cm]line1_gate29.west) to [out=60,in=180] ([yshift=0.035cm]line1_gate29.center) to [out=0, in=120] ([yshift=-0.18cm,xshift=-0.07500000000000001cm]line1_gate29.east);
\draw[edgestyle] ([yshift=-0.18cm]line1_gate29.center) to ([yshift=-0.07500000000000001cm,xshift=-0.18cm]line1_gate29.north east);
\draw (line1_gate28) edge[edgestyle] (line1_gate29);
\node[none] (line2_gate25) at (16.999999999999993,-2) {};
\node[none,minimum height=0.5cm,outer sep=0] (line2_gate26) at (17.249999999999993,-2) {};
\node[none] (line2_gate27) at (17.499999999999993,-2) {};
\draw[operator,edgestyle,outer sep=0.5cm] ([yshift=0.25cm]line2_gate25) rectangle ([yshift=-0.25cm]line2_gate27) node[pos=.5] {H};
\draw (line2_gate24) edge[edgestyle] (line2_gate25);
\node[measure,edgestyle] (line2_gate28) at (17.999999999999993,-2) {};
\draw[edgestyle] ([yshift=-0.18cm,xshift=0.07500000000000001cm]line2_gate28.west) to [out=60,in=180] ([yshift=0.035cm]line2_gate28.center) to [out=0, in=120] ([yshift=-0.18cm,xshift=-0.07500000000000001cm]line2_gate28.east);
\draw[edgestyle] ([yshift=-0.18cm]line2_gate28.center) to ([yshift=-0.07500000000000001cm,xshift=-0.18cm]line2_gate28.north east);
\draw (line2_gate27) edge[edgestyle] (line2_gate28);
\node[measure,edgestyle] (line3_gate25) at (17.09999999999999,-3) {};
\draw[edgestyle] ([yshift=-0.18cm,xshift=0.07500000000000001cm]line3_gate25.west) to [out=60,in=180] ([yshift=0.035cm]line3_gate25.center) to [out=0, in=120] ([yshift=-0.18cm,xshift=-0.07500000000000001cm]line3_gate25.east);
\draw[edgestyle] ([yshift=-0.18cm]line3_gate25.center) to ([yshift=-0.07500000000000001cm,xshift=-0.18cm]line3_gate25.north east);
\draw (line3_gate24) edge[edgestyle] (line3_gate25);

\end{tikzpicture}
\end{document}